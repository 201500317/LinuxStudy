# 实用指令

### Linux系统的运行级别

```bash
0:关机  
1:单用户(找回丢失密码)
2:多用户无网络服务
3:多用户有网络服务
4:保留
5:图形界面
6:重启

命令 init [0||num]

系统运行级别配置文件： /etc/inittab
```

![](https://i.loli.net/2019/10/09/R9DjLcyuoXtGkFI.png)



##### 如何修改已经忘记密码

![](https://i.loli.net/2019/10/09/rcNa2gMqbYtGkLe.png)

首先，在进入启动页面的时候按**e**键，然后会进入下面这个页面

![](https://i.loli.net/2019/10/09/g4j2GNFevKImaQn.png)

将光标移动到下图那一行

![](https://i.loli.net/2019/10/09/8k4sZdrAvRgEVno.png)

在行尾添加 **init=/bin/sh**,

![](https://i.loli.net/2019/10/09/LhdHGqYpItZvMAK.png)

添加完，按**Ctrl + X**执行，即可进入单用户模式

![](https://i.loli.net/2019/10/09/JBKHTxbWS5dGYIy.png)

然后，就可以**修改密码**了

![](https://i.loli.net/2019/10/09/4wbFxDeHrJGKBm8.png)

这里可以看见会字符不可见，你需要输入**LANG=en**，才能让字符可见

![](https://i.loli.net/2019/10/09/trswoihHCvd7JGu.png)

最后,执行**exec /sbin/init**即可退出单用户模式

![](https://i.loli.net/2019/10/09/gvKOq5eVhc3FwXd.png)

------

### 帮助指令

##### 介绍

当你对某个指令不收悉的时候，就可以使用帮助指令



##### 获得帮助信息

- 语法

  ```bash
  man [命令||配置文件]
  ```

- 命令演示

  ```bash
  [root@localhost ~]# man ls
  ```

  输入命令按**回车**,

  ![](https://i.loli.net/2019/10/10/AnB285ODQH9RKLf.png)

ls加-a可以**显示隐藏文件**

![](https://i.loli.net/2019/10/10/mNfp1tGsEaX38D9.png)

ls加-l可以以**另外的列表形式显示**

![](https://i.loli.net/2019/10/10/eOT45wiHoPu6gys.png)

```bash
[root@localhost home]# ls -a
.  ..  crg  qy
[root@localhost home]# ls -l
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
```

命令选项不光可以单个用，也可以连用，

```bash
[root@localhost home]# ls -la
总用量 0
drwxr-xr-x.  4 root root  27 9月  29 09:45 .
dr-xr-xr-x. 17 root root 224 9月   4 20:36 ..
drwx------.  2 crg  dw    62 9月  29 09:45 crg
drwx------.  2 qy   qy    83 9月  28 14:53 qy
```



##### help 指令

- 基本语法

  ```bash
  help 命令
  ```

- 实例演示

  ```bash
  [root@localhost home]# help cd
  cd: cd [-L|[-P [-e]]] [dir]
      Change the shell working directory.
      
      Change the current directory to DIR.  The default DIR is the value of the
      HOME shell variable.
      
      The variable CDPATH defines the search path for the directory containing
      DIR.  Alternative directory names in CDPATH are separated by a colon (:).
      A null directory name is the same as the current directory.  If DIR begins
      with a slash (/), then CDPATH is not used.
      
      If the directory is not found, and the shell option `cdable_vars' is set,
      the word is assumed to be  a variable name.  If that variable has a value,
      its value is used for DIR.
      
      Options:
          -L      force symbolic links to be followed
          -P      use the physical directory structure without following symbolic
          links
          -e      if the -P option is supplied, and the current working directory
          cannot be determined successfully, exit with a non-zero status
      
      The default is to follow symbolic links, as if `-L' were specified.
      
      Exit Status:
      Returns 0 if the directory is changed, and if $PWD is set successfully when
      -P is used; non-zero otherwise.
  [root@localhost home]# 
  ```

----

### 文件目录类

#### pwd命令

这个命令用来显示当前工作的**绝对路径**

```bash
[root@localhost ~]# pwd
/root
[root@localhost ~]# 
```



#### ls命令

该命令用来查看当前目录的所有内容

```bash
ls [选项] [目录||文件]
```



 ```bash
[root@localhost home]# ls
crg  qy
[root@localhost home]# ls -l
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
[root@localhost home]# ls -al
总用量 0
drwxr-xr-x.  4 root root  27 9月  29 09:45 .
dr-xr-xr-x. 17 root root 224 9月   4 20:36 ..
drwx------.  2 crg  dw    62 9月  29 09:45 crg
drwx------.  2 qy   qy    83 9月  28 14:53 qy
[root@localhost home]# 

 ```



#### cd命令

用于切换目录

```bash
cd [参数](指定目录)
```



```bash
[root@localhost /]# ll
总用量 16
lrwxrwxrwx.   1 root root    7 9月   4 20:33 bin -> usr/bin
dr-xr-xr-x.   5 root root 4096 9月   4 20:37 boot
drwxr-xr-x.  20 root root 3220 10月 10 09:01 dev
drwxr-xr-x.  75 root root 8192 10月 10 09:01 etc
drwxr-xr-x.   4 root root   27 9月  29 09:45 home
lrwxrwxrwx.   1 root root    7 9月   4 20:33 lib -> usr/lib
lrwxrwxrwx.   1 root root    9 9月   4 20:33 lib64 -> usr/lib64
drwxr-xr-x.   2 root root    6 4月  11 2018 media
drwxr-xr-x.   2 root root    6 4月  11 2018 mnt
drwxr-xr-x.   2 root root    6 4月  11 2018 opt
dr-xr-xr-x. 135 root root    0 10月 10 09:01 proc
dr-xr-x---.   2 root root  151 10月  9 14:26 root
drwxr-xr-x.  24 root root  720 10月 10 09:01 run
lrwxrwxrwx.   1 root root    8 9月   4 20:33 sbin -> usr/sbin
drwxr-xr-x.   2 root root    6 4月  11 2018 srv
dr-xr-xr-x.  13 root root    0 10月 10 09:01 sys
drwxrwxrwt.  12 root root  265 10月 10 10:09 tmp
drwxr-xr-x.  13 root root  144 9月  28 15:29 usr
drwxr-xr-x.  19 root root  267 9月   4 20:37 var
[root@localhost /]# cd /home
[root@localhost home]# ll
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
[root@localhost home]# 
```



#### mkdir命令

用于创建目录

```bash
mkdir [选项] 要创建的目录

-p : 创建多级目录
```



```bash
[root@localhost home]# ll
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
[root@localhost home]# mkdir dog
[root@localhost home]# ll
总用量 0
drwx------. 2 crg  dw   62 9月  29 09:45 crg
drwxr-xr-x. 2 root root  6 10月 10 13:42 dog
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost home]# mkdir /home/animal/cat
mkdir: 无法创建目录"/home/animal/cat": 没有那个文件或目录
[root@localhost home]# mkdir -p /home/animal/cat
[root@localhost home]# ll
总用量 0
drwxr-xr-x. 3 root root 17 10月 10 13:46 animal
drwx------. 2 crg  dw   62 9月  29 09:45 crg
drwxr-xr-x. 2 root root  6 10月 10 13:42 dog
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost animal]# cd animal
[root@localhost animal]# ll
总用量 0
drwxr-xr-x. 2 root root 6 10月 10 13:46 cat

```



#### rmdir命令

rmdir命令用于**删除空目录**

```bash
rmdir [目录]
```

删除dog目录

```bash
[root@localhost home]# ll
总用量 0
drwxr-xr-x. 3 root root 17 10月 10 13:48 animal
drwx------. 2 crg  dw   62 9月  29 09:45 crg
drwxr-xr-x. 2 root root  6 10月 10 13:42 dog
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost home]# rmdir dog
[root@localhost home]# ll
总用量 0
drwxr-xr-x. 3 root root 17 10月 10 13:48 animal
drwx------. 2 crg  dw   62 9月  29 09:45 crg
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost home]# rmdir animal
rmdir: 删除 "animal" 失败: 目录非空
```

如果要删除一个**非空的目录**需要用**rm -rf**命令

```bash
[root@localhost home]# rm -rf animal
[root@localhost home]# ll
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
[root@localhost home]# 
```



#### touch命令

创建一个空的文件

接下来，创建一个Hello.txt

```bash
[root@localhost home]# ll
总用量 0
drwx------. 2 crg dw 62 9月  29 09:45 crg
drwx------. 2 qy  qy 83 9月  28 14:53 qy
[root@localhost home]# touch hello.txt
[root@localhost home]# ll
总用量 0
drwx------. 2 crg  dw   62 9月  29 09:45 crg
-rw-r--r--. 1 root root  0 10月 10 15:14 hello.txt
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost home]# 
```

**touch**也可以创建多个文件

```bash
[root@localhost home]# touch sb.txt dl.txt
[root@localhost home]# ll
总用量 0
drwx------. 2 crg  dw   62 9月  29 09:45 crg
-rw-r--r--. 1 root root  0 10月 10 15:15 dl.txt
drwx------. 2 qy   qy   83 9月  28 14:53 qy
-rw-r--r--. 1 root root  0 10月 10 15:15 sb.txt
[root@localhost home]# 
```



#### cp命令

拷贝文件到指定目录

```bash
cp [选项] [待拷贝文件] [拷贝目标]

-r: 拷贝整个文件夹
```

接下来,将a.txt**拷贝到**aaa目录

```bash
[root@localhost home]# ll
总用量 0
drwxr-xr-x. 2 root root 19 10月 10 15:23 aaa
-rw-r--r--. 1 root root  0 10月 10 15:23 a.txt
drwxr-xr-x. 2 root root  6 10月 10 15:25 bbb
drwx------. 2 crg  dw   62 9月  29 09:45 crg
drwx------. 2 qy   qy   83 9月  28 14:53 qy
[root@localhost home]# cp a.txt aaa
[root@localhost home]# cd aaa
[root@localhost aaa]# ll
总用量 0
-rw-r--r--. 1 root root 0 10月 10 15:23 a.txt
[root@localhost aaa]# 
```

如果，要将aaa目录拷贝到bbb目录下，

```bash
[root@localhost home]# cp aaa bbb
cp: 略过目录"aaa"
[root@localhost home]# 
```

会提示一个错误，略过目录"aaa"，这个时候就需要加入选项**-r**

```bash
[root@localhost home]# cp -r aaa bbb
[root@localhost home]# cd bbb
[root@localhost bbb]# ll
总用量 0
drwxr-xr-x. 2 root root 19 10月 10 15:29 aaa
[root@localhost bbb]# 
```

如果，再复制一次，会提示要不要覆盖，如果默认要覆盖可以使用**\cp**

```bash
[root@localhost home]# cp -r aaa bbb
cp：是否覆盖"bbb/aaa/a.txt"？ y
[root@localhost home]# /cp -r aaa bbb
-bash: /cp: 没有那个文件或目录
[root@localhost home]# \cp -r aaa bbb
[root@localhost home]# 
```

这里注意是**\cp**，不仔细的话容易弄反



